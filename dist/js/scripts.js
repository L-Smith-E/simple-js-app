let tallestHeight=.5,label=" - Wow, thatâ€™s big!",dialogPromiseReject,pokemonRepo=function(){let e=[];function t(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.warn("Invalid pokemon object. Please provide an object with 'name', 'height', and 'types' properties.")}function n(){return e}function o(e){i(e).then(function(){r(e.name,e.name+" Height: "+e.height,e.imageUrl),console.log(e.name+" clicked!")})}function i(e){return a(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){l(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){l(),console.error(e)})}function a(){if(!$("loading-message")){let e=document.addClass("p");e.id="loading-message",e.innerText="Loading...",document.body.appendChild(e)}}function l(){let e=$("loading-message");e&&e.parentNode&&e.parentNode.removeChild(e)}function s(){$("#modal-container").removeClass("is-visible"),dialogPromiseReject&&(dialogPromiseReject(),dialogPromiseReject=null)}function r(e,t,n){(body=$(".modal-body")).empty(),$(".modal-title").text(e),body.append('<div class="text-center"> <p>'+t+"</p> </div>"),body.append('<div class="text-center"> <img src="'+n+'" alt="'+e+'"> </div>'),modalContainer.addEventListener("click",e=>{e.target===modalContainer&&s()})}return window.addEventListener("keydown",e=>{"Escape"===e.key&&"#modal-container".classList.contains("is-visible")&&s()}),{add:t,getAll:n,addListItem:function e(t){let n=$(".pokemon-list"),i=$('<button type="button" class="btn btn-outline-dark" data-toggle="modal" data-target="#modal-container"></button>'),a=$('<div class="text-right"> <img src="'+t.imageUrl+'" alt= "'+t.name+'"> </div>'),l=$('<li class="list-group-item"></li>');i.text(t.name),l.append(i),n.append(l),l.append(a),i.on("click",function(){o(t)})},findByName:function t(n){return e.filter(e=>e.name.toLowerCase()===e.toLowerCase())},showDetails:o,loadlist:function e(){return a(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=20").then(function(e){return e.json()}).then(function(e){l(),e.results.forEach(function(e){let n={name:e.name,height:0,detailsUrl:e.url};t(n),console.log(n)})}).catch(function(e){l(),console.error(e)})},loadDetails:i,showModal:r,hideModal:s}}();pokemonRepo.loadlist().then(function(){return Promise.all(pokemonRepo.getAll().map(function(e){return pokemonRepo.loadDetails(e)}))}).then(function(){pokemonRepo.getAll().forEach(function(e){pokemonRepo.addListItem(e)})});